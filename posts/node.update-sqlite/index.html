<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Node :: Updating Data in SQLite Database from a Node.js Application | Paran.Blue</title><meta name=keywords content="node,sqlite3"><meta name=description content="Summary: this tutorial shows you how to update data in the SQLite database from a Node.js application.
To update data in the SQLite database from a Node.js application, you use these steps:
 Open a database connection. Execute an UPDATE statement. Close the database connection.  For the demonstration, we will use the langs table in the sample.db database that we created in the previous tutorial.
Updating data example To update data in a table, you use the UPDATE statement as follows:"><meta name=author content="bynaki"><link rel=canonical href=https://www.sqlitetutorial.net/sqlite-nodejs/update/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.min.f35765cb8d4ded22290255d068770252367222a0c927f248f2ffdd0561769869.css integrity="sha256-81dly41N7SIpAlXQaHcCUjZyIqDJJ/JI8v/dBWF2mGk=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://bynaki.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://bynaki.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://bynaki.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://bynaki.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://bynaki.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.85.0"><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-123-45','auto'),ga('send','pageview'))</script><meta property="og:title" content="Node :: Updating Data in SQLite Database from a Node.js Application"><meta property="og:description" content="Summary: this tutorial shows you how to update data in the SQLite database from a Node.js application.
To update data in the SQLite database from a Node.js application, you use these steps:
 Open a database connection. Execute an UPDATE statement. Close the database connection.  For the demonstration, we will use the langs table in the sample.db database that we created in the previous tutorial.
Updating data example To update data in a table, you use the UPDATE statement as follows:"><meta property="og:type" content="article"><meta property="og:url" content="https://bynaki.github.io/posts/node.update-sqlite/"><meta property="og:image" content="https://bynaki.github.io/%3Cimage%20path/url%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-07-25T16:25:41+09:00"><meta property="article:modified_time" content="2021-07-25T16:25:41+09:00"><meta property="og:site_name" content="Paran.Blue"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://bynaki.github.io/%3Cimage%20path/url%3E"><meta name=twitter:title content="Node :: Updating Data in SQLite Database from a Node.js Application"><meta name=twitter:description content="Summary: this tutorial shows you how to update data in the SQLite database from a Node.js application.
To update data in the SQLite database from a Node.js application, you use these steps:
 Open a database connection. Execute an UPDATE statement. Close the database connection.  For the demonstration, we will use the langs table in the sample.db database that we created in the previous tutorial.
Updating data example To update data in a table, you use the UPDATE statement as follows:"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://bynaki.github.io/posts/"},{"@type":"ListItem","position":3,"name":"Node :: Updating Data in SQLite Database from a Node.js Application","item":"https://bynaki.github.io/posts/node.update-sqlite/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Node :: Updating Data in SQLite Database from a Node.js Application","name":"Node :: Updating Data in SQLite Database from a Node.js Application","description":"Summary: this tutorial shows you how to update data in the SQLite database from a Node.js application.\nTo update data in the SQLite database from a Node.js application, you use these steps:\n Open a database connection. Execute an UPDATE statement. Close the database connection.  For the demonstration, we will use the langs table in the sample.db database that we created in the previous tutorial.\nUpdating data example To update data in a table, you use the UPDATE statement as follows:","keywords":["node","sqlite3"],"articleBody":"Summary: this tutorial shows you how to update data in the SQLite database from a Node.js application.\nTo update data in the SQLite database from a Node.js application, you use these steps:\n Open a database connection. Execute an UPDATE statement. Close the database connection.  For the demonstration, we will use the langs table in the sample.db database that we created in the previous tutorial.\nUpdating data example To update data in a table, you use the UPDATE statement as follows:\nUPDATE table_name SET column_name = value_1 WHERE id = id_value; To execute the UPDATE statement in the Node.js application, you call the run() method of the Database object:\ndb.run(sql, params, function(err){ // }); The run() method executes an UPDATE statement with specified parameters and calls a callback afterwards.\nThe err argument of the callback stores the error detail in case the execution has any problem e.g., syntax error, locking, etc.\nIf the UPDATE statement is executed successfully, the this object of the callback function will contain the changes property that stores the number of rows updated.\nThe following update.js program illustrates how to update a row in the langs table from C to Ansi C:\nconst sqlite3 = require('sqlite3').verbose(); // open a database connection let db = new sqlite3.Database('./db/sample.db'); // let data = ['Ansi C', 'C']; let sql = `UPDATE langs SET name = ? WHERE name = ?`; db.run(sql, data, function(err) { if (err) { return console.error(err.message); } console.log(`Row(s) updated: ${this.changes}`); }); // close the database connection db.close(); Let’s test the update.js program.\nnode update.js Row(s) updated: 1 The output showed that one row has been updated which is correct.\nIn this tutorial, you have learned how to update data in the SQLite database from a Node.js application.\nSee Also  https://www.sqlitetutorial.net/sqlite-nodejs/  ","wordCount":"292","inLanguage":"en","image":"https://bynaki.github.io/%3Cimage%20path/url%3E","datePublished":"2021-07-25T16:25:41+09:00","dateModified":"2021-07-25T16:25:41+09:00","author":{"@type":"Person","name":"bynaki"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://bynaki.github.io/posts/node.update-sqlite/"},"publisher":{"@type":"Organization","name":"Paran.Blue","logo":{"@type":"ImageObject","url":"https://bynaki.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://bynaki.github.io accesskey=h title="Paran.Blue (Alt + H)">Paran.Blue</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://bynaki.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://bynaki.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://bynaki.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://github.com/bynaki title=github><span>github</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://bynaki.github.io>Home</a>&nbsp;»&nbsp;<a href=https://bynaki.github.io/posts/>Posts</a></div><h1 class=post-title>Node :: Updating Data in SQLite Database from a Node.js Application</h1><div class=post-meta>July 25, 2021&nbsp;·&nbsp;2 min&nbsp;·&nbsp;bynaki&nbsp;|&nbsp;<a href=https://github.com/bynaki/paran.blue/blob/main/content/posts/node.update-sqlite.md rel="noopener noreferrer" target=_blank>Edit</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#updating-data-example aria-label="Updating data example">Updating data example</a></li><li><a href=#see-also aria-label="See Also">See Also</a></li></ul></div></details></div><div class=post-content><p><strong>Summary</strong>: this tutorial shows you how to update data in the SQLite database from a Node.js application.</p><p>To update data in the SQLite database from a Node.js application, you use these steps:</p><ol><li><a href=https://www.sqlitetutorial.net/sqlite-nodejs/connect/>Open a database connection</a>.</li><li>Execute an <code>UPDATE</code> statement.</li><li>Close the database connection.</li></ol><p>For the demonstration, we will use the <code>langs</code> table in the <code>sample.db</code> database that we created in the <a href=https://www.sqlitetutorial.net/sqlite-nodejs/insert/>previous tutorial</a>.</p><h2 id=updating-data-example>Updating data example<a hidden class=anchor aria-hidden=true href=#updating-data-example>#</a></h2><p>To update data in a table, you use the <code>UPDATE</code> statement as follows:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>table_name</span>
<span style=color:#66d9ef>SET</span> <span style=color:#66d9ef>column_name</span> <span style=color:#f92672>=</span> value_1
<span style=color:#66d9ef>WHERE</span> id <span style=color:#f92672>=</span> id_value;
</code></pre></div><p>To execute the <code>UPDATE</code> statement in the Node.js application, you call the <code>run()</code> method of the <code>Database</code> object:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>db</span>.<span style=color:#a6e22e>run</span>(<span style=color:#a6e22e>sql</span>, <span style=color:#a6e22e>params</span>, <span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>err</span>){
  <span style=color:#75715e>// 
</span><span style=color:#75715e></span>});
</code></pre></div><p>The <code>run()</code> method executes an <code>UPDATE</code> statement with specified parameters and calls a callback afterwards.</p><p>The <code>err</code> argument of the callback stores the error detail in case the execution has any problem e.g., syntax error, locking, etc.</p><p>If the <code>UPDATE</code> statement is executed successfully, the <code>this</code> object of the callback function will contain the <code>changes</code> property that stores the number of rows updated.</p><p>The following <code>update.js</code> program illustrates how to update a row in the <code>langs</code> table from <code>C</code> to <code>Ansi C</code>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>sqlite3</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;sqlite3&#39;</span>).<span style=color:#a6e22e>verbose</span>();

<span style=color:#75715e>// open a database connection
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>db</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>sqlite3</span>.<span style=color:#a6e22e>Database</span>(<span style=color:#e6db74>&#39;./db/sample.db&#39;</span>);

<span style=color:#75715e>//
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;Ansi C&#39;</span>, <span style=color:#e6db74>&#39;C&#39;</span>];
<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>sql</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>`UPDATE langs
</span><span style=color:#e6db74>            SET name = ?
</span><span style=color:#e6db74>            WHERE name = ?`</span>;

<span style=color:#a6e22e>db</span>.<span style=color:#a6e22e>run</span>(<span style=color:#a6e22e>sql</span>, <span style=color:#a6e22e>data</span>, <span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>err</span>) {
  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>err</span>) {
    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#a6e22e>err</span>.<span style=color:#a6e22e>message</span>);
  }
  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Row(s) updated: </span><span style=color:#e6db74>${</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>changes</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);

});

<span style=color:#75715e>// close the database connection
</span><span style=color:#75715e></span><span style=color:#a6e22e>db</span>.<span style=color:#a6e22e>close</span>();
</code></pre></div><p>Let’s test the <code>update.js</code> program.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>&gt;node update.js
Row<span style=color:#f92672>(</span>s<span style=color:#f92672>)</span> updated: <span style=color:#ae81ff>1</span>
</code></pre></div><p>The output showed that one row has been updated which is correct.</p><p>In this tutorial, you have learned how to update data in the SQLite database from a Node.js application.</p><h2 id=see-also>See Also<a hidden class=anchor aria-hidden=true href=#see-also>#</a></h2><ul><li><a href=https://www.sqlitetutorial.net/sqlite-nodejs/>https://www.sqlitetutorial.net/sqlite-nodejs/</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://bynaki.github.io/tags/node/>node</a></li><li><a href=https://bynaki.github.io/tags/sqlite3/>sqlite3</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2021</span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        Written by 
        <a href=/ rel=noopener target=_blank>bynaki</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script><script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='copy';function d(){a.innerText='copied!',setTimeout(()=>{a.innerText='copy'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script></body></html>