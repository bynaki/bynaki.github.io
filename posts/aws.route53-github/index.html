<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>AWS :: How to deploy GitHub pages with AWS Route 53 registered custom domain and force HTTPS | Paran.Blue</title><meta name=keywords content="aws,githubpages"><meta name=description content="In this guide I will explain how to deploy a website to GitHub pages forcing HTTPS over a custom domain that is registered with AWS Route 53. We will set up our domain so that the www subdomain will redirect to the apex domain.
Summary  Set up the GitHub repo Commit and push an index.html or use Jekyll Configure AWS Route 53  Step 1: Create GitHub repo and turn on GitHub Pages  If it does not exist yet, create a repository using the naming pattern your-github-username."><meta name=author content="bynaki"><link rel=canonical href=https://bynaki.github.io/posts/aws.route53-github/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.min.f35765cb8d4ded22290255d068770252367222a0c927f248f2ffdd0561769869.css integrity="sha256-81dly41N7SIpAlXQaHcCUjZyIqDJJ/JI8v/dBWF2mGk=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://bynaki.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://bynaki.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://bynaki.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://bynaki.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://bynaki.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.85.0"><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-123-45','auto'),ga('send','pageview'))</script><meta property="og:title" content="AWS :: How to deploy GitHub pages with AWS Route 53 registered custom domain and force HTTPS"><meta property="og:description" content="In this guide I will explain how to deploy a website to GitHub pages forcing HTTPS over a custom domain that is registered with AWS Route 53. We will set up our domain so that the www subdomain will redirect to the apex domain.
Summary  Set up the GitHub repo Commit and push an index.html or use Jekyll Configure AWS Route 53  Step 1: Create GitHub repo and turn on GitHub Pages  If it does not exist yet, create a repository using the naming pattern your-github-username."><meta property="og:type" content="article"><meta property="og:url" content="https://bynaki.github.io/posts/aws.route53-github/"><meta property="og:image" content="https://bynaki.github.io/%3Cimage%20path/url%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-07-18T23:35:55+09:00"><meta property="article:modified_time" content="2021-07-18T23:35:55+09:00"><meta property="og:site_name" content="Paran.Blue"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://bynaki.github.io/%3Cimage%20path/url%3E"><meta name=twitter:title content="AWS :: How to deploy GitHub pages with AWS Route 53 registered custom domain and force HTTPS"><meta name=twitter:description content="In this guide I will explain how to deploy a website to GitHub pages forcing HTTPS over a custom domain that is registered with AWS Route 53. We will set up our domain so that the www subdomain will redirect to the apex domain.
Summary  Set up the GitHub repo Commit and push an index.html or use Jekyll Configure AWS Route 53  Step 1: Create GitHub repo and turn on GitHub Pages  If it does not exist yet, create a repository using the naming pattern your-github-username."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://bynaki.github.io/posts/"},{"@type":"ListItem","position":3,"name":"AWS :: How to deploy GitHub pages with AWS Route 53 registered custom domain and force HTTPS","item":"https://bynaki.github.io/posts/aws.route53-github/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"AWS :: How to deploy GitHub pages with AWS Route 53 registered custom domain and force HTTPS","name":"AWS :: How to deploy GitHub pages with AWS Route 53 registered custom domain and force HTTPS","description":"In this guide I will explain how to deploy a website to GitHub pages forcing HTTPS over a custom domain that is registered with AWS Route 53. We will set up our domain so that the www subdomain will redirect to the apex domain.\nSummary  Set up the GitHub repo Commit and push an index.html or use Jekyll Configure AWS Route 53  Step 1: Create GitHub repo and turn on GitHub Pages  If it does not exist yet, create a repository using the naming pattern your-github-username.","keywords":["aws","githubpages"],"articleBody":"In this guide I will explain how to deploy a website to GitHub pages forcing HTTPS over a custom domain that is registered with AWS Route 53. We will set up our domain so that the www subdomain will redirect to the apex domain.\nSummary  Set up the GitHub repo Commit and push an index.html or use Jekyll Configure AWS Route 53  Step 1: Create GitHub repo and turn on GitHub Pages  If it does not exist yet, create a repository using the naming pattern your-github-username.github.io. Since my username is benwiz my repository is called benwiz.github.io . Click the Settings tab and scroll down the GitHub Pages section From the Source dropdown select master branch Click Save  Step 2: Push source code to GitHub  Clone the repo to your local machine  git clone git@github.com:your-github-username/your-github-username.github.io.git \u0026\u0026 cd your-github-username.github.io  Create an index.html file with some content  echo \"Hello GitHub Pages!\"  index.html  Looking forward, we will need to have a file named CNAME that contains a single row: your custom domain. My CNAME file has the following contents.  benwiz.com  Push the files to GitHub  git add . \u0026\u0026 git commit -m 'Create content and CNAME record' \u0026\u0026 git push Step 3: Confirm that GitHub pages has been deployed Visit http://your-github-username.github.io and https://your-github-username.github.io. You should see the contents of your index.html file at both the unsecured and secured addresses.\nStep 4: Configure AWS Route 53 to use your custom vanity domain  Log into the AWS console and go to the Route 53 dashboard. Click Hosted zones Click the domain you would like to use Click Create Record Set Do not enter anything into the Name field Under the Type dropdown, select A — IPv4 addresses The Alias toggle should be set to No Enter the following four IP addresses into the value text area. Then click Save Record Set.  185.199.108.153 185.199.109.153 185.199.110.153 185.199.111.153  Click Create Record Set, again Into the Name field, enter www Under the Type dropdown, select A — IPv4 addresses, again The Alias toggle should be set to Yes, unlike before In the Alias Target field, select the apex domain we previously set up. For me this is *benwiz.*com. Click Save Record Set, again  Step 5: Configure GitHub to serve over your custom domain  Return to your GitHub repository’s settings tab Scroll down to the GitHub Pages section In the Custom domain field enter your custom domain: your-custom-domain.com Click Save Check Enforce HTTPS  Step 6: Confirm that your page is accessible at your custom domain Visit https://your-custom-domain.com. You should see the contents of your index.html.\n Visit https://www.your-custom-domain.com. You should be redirected to https://your-custom-domain.com. Visit http://your-custom-domain.com. You should be redirected to https://your-custom-domain.com. Visit http://www.your-custom-domain.com. You should be redirected to https://your-custom-domain.com.  ","wordCount":"449","inLanguage":"en","image":"https://bynaki.github.io/%3Cimage%20path/url%3E","datePublished":"2021-07-18T23:35:55+09:00","dateModified":"2021-07-18T23:35:55+09:00","author":{"@type":"Person","name":"bynaki"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://bynaki.github.io/posts/aws.route53-github/"},"publisher":{"@type":"Organization","name":"Paran.Blue","logo":{"@type":"ImageObject","url":"https://bynaki.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://bynaki.github.io accesskey=h title="Paran.Blue (Alt + H)">Paran.Blue</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://bynaki.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://bynaki.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://bynaki.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://github.com/bynaki title=github><span>github</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://bynaki.github.io>Home</a>&nbsp;»&nbsp;<a href=https://bynaki.github.io/posts/>Posts</a></div><h1 class=post-title>AWS :: How to deploy GitHub pages with AWS Route 53 registered custom domain and force HTTPS</h1><div class=post-meta>July 18, 2021&nbsp;·&nbsp;3 min&nbsp;·&nbsp;bynaki&nbsp;|&nbsp;<a href=https://github.com/bynaki/paran.blue/blob/main/content/posts/aws.route53-github.md rel="noopener noreferrer" target=_blank>Edit</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#summary aria-label=Summary>Summary</a></li><li><a href=#step-1-create-github-repo-and-turn-on-github-pages aria-label="Step 1: Create GitHub repo and turn on GitHub Pages">Step 1: Create GitHub repo and turn on GitHub Pages</a></li><li><a href=#step-2-push-source-code-to-github aria-label="Step 2: Push source code to GitHub">Step 2: Push source code to GitHub</a></li><li><a href=#step-3-confirm-that-github-pages-has-been-deployed aria-label="Step 3: Confirm that GitHub pages has been deployed">Step 3: Confirm that GitHub pages has been deployed</a></li><li><a href=#step-4-configure-aws-route-53-to-use-your-custom-vanity-domain aria-label="Step 4: Configure AWS Route 53 to use your custom vanity domain">Step 4: Configure AWS Route 53 to use your custom vanity domain</a></li><li><a href=#step-5-configure-github-to-serve-over-your-custom-domain aria-label="Step 5: Configure GitHub to serve over your custom domain">Step 5: Configure GitHub to serve over your custom domain</a></li><li><a href=#step-6-confirm-that-your-page-is-accessible-at-your-custom-domain aria-label="Step 6: Confirm that your page is accessible at your custom domain">Step 6: Confirm that your page is accessible at your custom domain</a></li></ul></div></details></div><div class=post-content><p>In this guide I will explain how to deploy a website to GitHub pages forcing HTTPS over a custom domain that is registered with AWS Route 53. We will set up our domain so that the www subdomain will redirect to the apex domain.</p><h2 id=summary>Summary<a hidden class=anchor aria-hidden=true href=#summary>#</a></h2><ul><li>Set up the GitHub repo</li><li>Commit and push an index.html or use Jekyll</li><li>Configure AWS Route 53</li></ul><h2 id=step-1-create-github-repo-and-turn-on-github-pages>Step 1: Create GitHub repo and turn on GitHub Pages<a hidden class=anchor aria-hidden=true href=#step-1-create-github-repo-and-turn-on-github-pages>#</a></h2><ol><li>If it does not exist yet, create a repository using the naming pattern <code>your-github-username.github.io</code>. Since my username is <em>benwiz</em> my repository is called <code>benwiz.github.io</code> .</li><li>Click the <em>Settings</em> tab and scroll down the <em>GitHub Pages</em> section</li><li>From the <em>Source</em> dropdown select <em>master branch</em></li><li>Click <em>Save</em></li></ol><h2 id=step-2-push-source-code-to-github>Step 2: Push source code to GitHub<a hidden class=anchor aria-hidden=true href=#step-2-push-source-code-to-github>#</a></h2><ul><li>Clone the repo to your local machine</li></ul><pre><code>git clone git@github.com:your-github-username/your-github-username.github.io.git &amp;&amp; cd your-github-username.github.io 
</code></pre><ul><li>Create an <em>index.html</em> file with some content</li></ul><pre><code>echo &quot;Hello GitHub Pages!&quot; &gt; index.html
</code></pre><ul><li>Looking forward, we will need to have a file named <em>CNAME</em> that contains a single row: your custom domain. My <em>CNAME</em> file has the following contents.</li></ul><pre><code>benwiz.com
</code></pre><ul><li>Push the files to GitHub</li></ul><pre><code>git add . &amp;&amp; git commit -m 'Create content and CNAME record' &amp;&amp; git push
</code></pre><h2 id=step-3-confirm-that-github-pages-has-been-deployed>Step 3: Confirm that GitHub pages has been deployed<a hidden class=anchor aria-hidden=true href=#step-3-confirm-that-github-pages-has-been-deployed>#</a></h2><p>Visit <a href=http://your-github-username.github.io/>http://your-github-username.github.io</a> and <a href=https://your-github-username.github.io./>https://your-github-username.github.io.</a> You should see the contents of your <em>index.html</em> file at both the unsecured and secured addresses.</p><h2 id=step-4-configure-aws-route-53-to-use-your-custom-vanity-domain>Step 4: Configure AWS Route 53 to use your custom vanity domain<a hidden class=anchor aria-hidden=true href=#step-4-configure-aws-route-53-to-use-your-custom-vanity-domain>#</a></h2><ol><li>Log into the AWS console and go to the <a href=https://console.aws.amazon.com/route53/home>Route 53 dashboard</a>.</li><li>Click <em>Hosted zones</em></li><li>Click the domain you would like to use</li><li>Click <em>Create Record Set</em></li><li>Do not enter anything into the <em>Name</em> field</li><li>Under the <em>Type</em> dropdown, select <em>A — IPv4 addresses</em></li><li>The <em>Alias</em> toggle should be set to <em>No</em></li><li>Enter the following four IP addresses into the <em>value</em> text area. Then click <em>Save Record Set</em>.</li></ol><pre><code>185.199.108.153
185.199.109.153
185.199.110.153
185.199.111.153
</code></pre><p><img loading=lazy src=/images/cad09110d2784bd05bacb8cb5aef5c86aa9770987c6f70434c6b8bb6c6358aee.png alt="picture 1"></p><ol><li>Click <em>Create Record Set</em>, again</li><li>Into the <em>Name</em> field, enter <code>www</code></li><li>Under the <em>Type</em> dropdown, select <em>A — IPv4 addresses</em>, again</li><li>The <em>Alias</em> toggle should be set to <em>Yes</em>, unlike before</li><li>In the <em>Alias Target</em> field, select the apex domain we previously set up. For me this is *benwiz.*com.</li><li>Click <em>Save Record Set</em>, again</li></ol><p><img loading=lazy src=/images/bdac45dc1525ab97b85c57a414646a0f163ef76694f04662c17c5ed2dd24d620.png alt="picture 2"></p><h2 id=step-5-configure-github-to-serve-over-your-custom-domain>Step 5: Configure GitHub to serve over your custom domain<a hidden class=anchor aria-hidden=true href=#step-5-configure-github-to-serve-over-your-custom-domain>#</a></h2><ol><li>Return to your GitHub repository’s settings tab</li><li>Scroll down to the GitHub Pages section</li><li>In the <em>Custom domain</em> field enter your custom domain: <code>your-custom-domain.com</code></li><li>Click <em>Save</em></li><li>Check <em>Enforce HTTPS</em></li></ol><h2 id=step-6-confirm-that-your-page-is-accessible-at-your-custom-domain>Step 6: Confirm that your page is accessible at your custom domain<a hidden class=anchor aria-hidden=true href=#step-6-confirm-that-your-page-is-accessible-at-your-custom-domain>#</a></h2><p>Visit <code>https://your-custom-domain.com</code>. You should see the contents of your <em>index.html</em>.</p><ol><li>Visit <a href=https://your-custom-domain.com/>https://www.your-custom-domain.com</a>. You should be redirected to <a href=https://your-custom-domain.com/>https://your-custom-domain.com</a>.</li><li>Visit <a href=http://your-custom-domain.com./>http://your-custom-domain.com</a>. You should be redirected to <a href=https://your-custom-domain.com/>https://your-custom-domain.com</a>.</li><li>Visit <a href=http://www.your-custom-domain.com/>http://www.your-custom-domain.com</a>. You should be redirected to <a href=https://your-custom-domain.com/>https://your-custom-domain.com</a>.</li></ol></div><footer class=post-footer><ul class=post-tags><li><a href=https://bynaki.github.io/tags/aws/>aws</a></li><li><a href=https://bynaki.github.io/tags/githubpages/>githubpages</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2021</span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        Written by 
        <a href=/ rel=noopener target=_blank>bynaki</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script><script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='copy';function d(){a.innerText='copied!',setTimeout(()=>{a.innerText='copy'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script></body></html>